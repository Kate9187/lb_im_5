# lb_im_5
## Цель работы и постановка задачи
Разработать программу, которая будет считывать временные ряды отклика y и факторов Х из текстового файла и выполнять следующие операции:
   1. Оценка параметров линейной многофакторной модели (ЛМФМ).
   2. Отбор значимых факторов (решение об отсеве факторов, возврате к повторной процедуре отсева и т.д. принимает пользователь)
       * по статистической значимости (критерий выбирается разработчиком, но уровень значимости - пользователем); 
       * по коэффициенту корреляции - связь между факторами (между собой);
       * по коэффициенту корреляции - связь между факторами и откликом;
       * оценка целесообразности исключения факторов.
   3. Оценка адекватности модели:
       * оценка коэффициента детерминации на статистическую значимость (F - статистика) и сообщение: адекватна модель или нет;
       * вычисление ошибки (E = 1/n * sum ((yi-yit)/yit) или RMSE;
       * вычисление и вывод пользователю специальных показателей.
   4. Выполнения предсказания с помощью построенной модели на основе ввода значений факторов (новые значения факторов для предсказания можно внести в отдельный файл).
   5. По возможности текстовый вывод на консоль можно сохранить в выходной текстовый файл.
## Rраткое описание процедуры построения и оценки ЛМФМ
### Получение данных из текстового файла
Временные ряды отклика y и факторов Х считываются из файла ```data.txt``` через разделитель ```,```.
### Отбор значимых факторов
Программа запрашивает у пользователя уровень значимости. Рассчитываются коэффициенты корреляции с отликом и p-значение для оценки статистической значимости факторов, коэффициенты корреляции между факторами в виде матрицы. При наличии факторов с высокой корреляцией (коэффициент корреляции > 0.8) выводится предупреждение. Пользователь принимает решение о выборе факторов.
### Оценка адекватности модели
На основании оценки коэффициента детерминации на статистическую значимость выводится сообщение об адекватности модели. Вычисление ошибки реализовано в  виде RMSE. 
### Предсказания с помощью построенной модели на основе ввода новых значений факторов 
Новые значения факторов загружаются из файла ```new_data.txt```
### Сохранение результатов
Сохранение результатов работы программы осуществляется в файл ```output.txt```
## Демонстрация работы программы
[Ссылка на входные данные](https://github.com/Kate9187/lb_im_5/blob/main/data.txt)

[Ссылка на новые данные для прогноза](https://github.com/Kate9187/lb_im_5/blob/main/new_data.txt)

[Ссылка на код](https://github.com/Kate9187/lb_im_5/blob/main/lb5.py)

* Выбран уровень значимости факторов 0.05.
  
Коэффициенты корреляции с отликом и p-значение для оценки статистической значимости факторов:
```
x1: корреляция с откликом = 0.2412, p-value = 0.5020
x2: корреляция с откликом = 0.7612, p-value = 0.0105
x3: корреляция с откликом = 0.6508, p-value = 0.0416
x4: корреляция с откликом = 0.7597, p-value = 0.0108
x5: корреляция с откликом = 0.5618, p-value = 0.0910
```
Матрица коэффициентов корреляции между факторами:
```
          x1        x2        x3        x4        x5
x1  1.000000  0.402469  0.651570  0.535450  0.410997
x2  0.402469  1.000000  0.683902  0.490929  0.643610
x3  0.651570  0.683902  1.000000  0.746507  0.562367
x4  0.535450  0.490929  0.746507  1.000000  0.600657
x5  0.410997  0.643610  0.562367  0.600657  1.000000
```
Проверка на адекватность модели после выбора значимых факторов:
```
F-статистика: 7.7928, p-value: 0.0171
Модель адекватна.
Коэффициент детерминации (R-squared): 0.7958
RMSE: 0.1298
```
